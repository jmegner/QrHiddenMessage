<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QR Code Hidden Message Generator</title>
  <link rel="preload" href="./qrcodegen-v1.8.0-es6.js" as="script">
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      padding: 0;
    }

    .app {
      margin: 0 auto;
      padding: 1px;
      width: min(960px, 100vw);
    }

    header h1 {
      margin: 0 0 1px;
      padding: 0;
    }

    header p {
      margin: 0 0 1px;
      padding: 0;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 1px;
      margin: 0;
      padding: 0;
    }

    label {
      display: flex;
      flex-direction: column;
      gap: 1px;
      margin: 0;
      padding: 0;
    }

    textarea,
    select,
    input[type="number"],
    input[type="text"] {
      margin: 0;
      padding: 1px;
    }

    textarea {
      resize: vertical;
      min-height: 120px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 1px;
      margin: 0;
      padding: 0;
    }

    .output {
      margin-top: 1px;
      display: flex;
      flex-direction: column;
      gap: 1px;
      align-items: flex-start;
    }

    .qr-visual {
      margin: 0;
      padding: 1px;
    }

    .status {
      margin: 0;
      padding: 0;
    }

    .qr-meta {
      display: flex;
      flex-direction: column;
      gap: 1px;
      margin: 0;
      padding: 1px;
    }
  </style>
</head>
<body>
  <main class="app">
    <header>
      <h1>QR Code Hidden Message Generator</h1>
      <p>Encode visible text plus an optional hidden UTF-8 message placed in the QR padding area.</p>
    </header>

    <form id="qr-form">
      <label>
        Message to encode
        <textarea id="qr-text" required placeholder="Type the text to convert into a QR code with an optional hidden payload">Hello from QrHiddenMessage!</textarea>
      </label>

      <label>
        Hidden padding message (optional)
        <input id="qr-hidden" type="text" placeholder="Embed a hidden UTF-8 message in the padding">
      </label>

      <div class="options">
        <label>
          Error correction
          <select id="qr-ecl">
            <option value="L" selected>Low (7% tolerance)</option>
            <option value="M">Medium (15% tolerance)</option>
            <option value="Q">Quartile (25% tolerance)</option>
            <option value="H">High (30% tolerance)</option>
          </select>
        </label>

        <label>
          Pixel size
          <input id="qr-scale" type="number" min="2" max="20" step="1" value="8">
        </label>

        <label>
          Quiet zone
          <input id="qr-margin" type="number" min="0" max="10" step="1" value="4">
        </label>
      </div>
    </form>

    <section class="output">
      <div>
        <img id="qr-image" class="qr-visual" alt="QR code preview will appear here" />
        <canvas id="qr-canvas" width="240" height="240" hidden aria-hidden="true"></canvas>
        <div class="qr-meta" aria-live="polite">
          <div>
            <strong>Version</strong>
            <span id="qr-version">–</span>
          </div>
          <div>
            <strong>Size (modules)</strong>
            <span id="qr-size">–</span>
          </div>
          <div>
            <strong>Error correction</strong>
            <span id="qr-ecl-display">–</span>
          </div>
          <div>
            <strong>Mask</strong>
            <span id="qr-mask">–</span>
          </div>
        </div>
      </div>
      <p class="status" id="qr-status">Ready to generate your QR code.</p>
    </section>
  </main>

  <script src="./qrcodegen-v1.8.0-es6.js"></script>
  <script src="./app.js"></script>
</body>
</html>
